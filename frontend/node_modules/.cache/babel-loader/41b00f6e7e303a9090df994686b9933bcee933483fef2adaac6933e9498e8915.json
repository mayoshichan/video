{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Youtube,Loader2}from'lucide-react';import axios from'axios';import SearchBar from'../components/SearchBar';import VideoList from'../components/VideoList';import YouTubePlayer from'../components/YouTubePlayer';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=\"\".concat(BACKEND_URL,\"/api\");const Home=()=>{const[searchResults,setSearchResults]=useState([]);const[currentVideoId,setCurrentVideoId]=useState('dQw4w9WgXcQ');// Default video\nconst[loading,setLoading]=useState(false);const[error,setError]=useState(null);// Load initial results\nuseEffect(()=>{handleSearch('gaming');},[]);const handleSearch=async query=>{if(!query||query.trim()===''){return;}setLoading(true);setError(null);try{const response=await axios.get(\"\".concat(API,\"/search/videos\"),{params:{q:query}});const results=response.data.items||[];setSearchResults(results);if(results.length>0){setCurrentVideoId(results[0].id);}}catch(err){console.error('Search error:',err);setError('Failed to search videos. Please try again.');}finally{setLoading(false);}};const handleSelectVideo=videoId=>{setCurrentVideoId(videoId);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-zinc-900 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-md bg-black shadow-2xl overflow-hidden\",style:{aspectRatio:'9/16'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-zinc-900 px-4 py-3 border-b border-zinc-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3\",children:[/*#__PURE__*/_jsx(Youtube,{className:\"w-6 h-6 text-red-600\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-bold text-white\",children:\"YouTube Player\"})]}),/*#__PURE__*/_jsx(SearchBar,{onSearch:handleSearch})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-black\",children:/*#__PURE__*/_jsx(YouTubePlayer,{videoId:currentVideoId})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto bg-zinc-900 p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-sm font-semibold text-gray-300\",children:\"Search Results\"}),loading&&/*#__PURE__*/_jsx(Loader2,{className:\"w-4 h-4 text-gray-400 animate-spin\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-sm mb-3 p-3 bg-red-900/20 rounded\",children:error}),/*#__PURE__*/_jsx(VideoList,{videos:searchResults,onSelectVideo:handleSelectVideo,currentVideoId:currentVideoId})]})]})})});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","Youtube","Loader2","axios","SearchBar","VideoList","YouTubePlayer","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","concat","Home","searchResults","setSearchResults","currentVideoId","setCurrentVideoId","loading","setLoading","error","setError","handleSearch","query","trim","response","get","params","q","results","data","items","length","id","err","console","handleSelectVideo","videoId","className","children","style","aspectRatio","onSearch","videos","onSelectVideo"],"sources":["/app/frontend/src/pages/Home.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Youtube, Loader2 } from 'lucide-react';\nimport axios from 'axios';\nimport SearchBar from '../components/SearchBar';\nimport VideoList from '../components/VideoList';\nimport YouTubePlayer from '../components/YouTubePlayer';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\n\nconst Home = () => {\n  const [searchResults, setSearchResults] = useState([]);\n  const [currentVideoId, setCurrentVideoId] = useState('dQw4w9WgXcQ'); // Default video\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Load initial results\n  useEffect(() => {\n    handleSearch('gaming');\n  }, []);\n\n  const handleSearch = async (query) => {\n    if (!query || query.trim() === '') {\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await axios.get(`${API}/search/videos`, {\n        params: { q: query }\n      });\n\n      const results = response.data.items || [];\n      setSearchResults(results);\n      \n      if (results.length > 0) {\n        setCurrentVideoId(results[0].id);\n      }\n    } catch (err) {\n      console.error('Search error:', err);\n      setError('Failed to search videos. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSelectVideo = (videoId) => {\n    setCurrentVideoId(videoId);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-zinc-900 flex items-center justify-center p-4\">\n      {/* 9:16 Container - Portrait Phone Layout */}\n      <div \n        className=\"w-full max-w-md bg-black shadow-2xl overflow-hidden\"\n        style={{ aspectRatio: '9/16' }}\n      >\n        <div className=\"h-full flex flex-col\">\n          {/* Header */}\n          <div className=\"bg-zinc-900 px-4 py-3 border-b border-zinc-800\">\n            <div className=\"flex items-center gap-2 mb-3\">\n              <Youtube className=\"w-6 h-6 text-red-600\" />\n              <h1 className=\"text-lg font-bold text-white\">YouTube Player</h1>\n            </div>\n            <SearchBar onSearch={handleSearch} />\n          </div>\n\n          {/* Video Player - 16:9 aspect ratio */}\n          <div className=\"bg-black\">\n            <YouTubePlayer videoId={currentVideoId} />\n          </div>\n\n          {/* Video List - Scrollable */}\n          <div className=\"flex-1 overflow-y-auto bg-zinc-900 p-4\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h2 className=\"text-sm font-semibold text-gray-300\">Search Results</h2>\n              {loading && (\n                <Loader2 className=\"w-4 h-4 text-gray-400 animate-spin\" />\n              )}\n            </div>\n            \n            {error && (\n              <div className=\"text-red-400 text-sm mb-3 p-3 bg-red-900/20 rounded\">\n                {error}\n              </div>\n            )}\n            \n            <VideoList\n              videos={searchResults}\n              onSelectVideo={handleSelectVideo}\n              currentVideoId={currentVideoId}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}